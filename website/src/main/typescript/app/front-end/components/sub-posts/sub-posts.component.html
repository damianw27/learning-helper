<ng-template [ngIf]="isEditMode">
  <div
    cdkDropList
    class="list-group my-2"
    (cdkDropListDropped)="dropLessonItem($event)"
  >
    <div class="list-group-item">
      <app-sub-post-create-form
        [postId]="post?.id"
      ></app-sub-post-create-form>
    </div>
    <ng-template ngFor let-subPost [ngForOf]="subPosts$ | async">
      <div cdkDrag>
        <app-sub-post-element
          [subPostBean]="subPost"
          [isEditMode]="isEditMode"
        ></app-sub-post-element>
      </div>
    </ng-template>
  </div>
</ng-template>

<ng-template [ngIf]="!isEditMode">
  <div class="list-group">
    <ng-template ngFor let-subPost [ngForOf]="post?.subPosts ?? []">
      <app-sub-post-element
        [subPostBean]="subPost"
        [isEditMode]="false"
      ></app-sub-post-element>
    </ng-template>
  </div>
</ng-template>
